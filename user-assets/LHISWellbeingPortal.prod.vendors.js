(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(e,t,n){"use strict";var r=n(11);function i(e){return t=>(customElements.get(e.tag)||customElements.define(e.tag,t),t.prototype.styles=e.styles,t.prototype.shadow=function(e){return void 0===e||"string"==typeof e&&"if-available"===e?!Object(r.j)()&&!Object(r.i)():e}(e.shadow),class extends t{static get is(){return e.tag}static set styles(e){this.styles=e}static set shadow(e){this.shadow=e}})}function o(e){return function(t,n){const{type:r}=e,i=t.constructor,o=i.properties||{},s=Object.assign({},o,{[n]:r});Object.defineProperty(i,"properties",{configurable:!0,get:()=>s})}}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/window.JSCompiler_renameProperty=function(e,t){return e};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let s=0;function a(){}a.prototype.__mixinApplications,a.prototype.__mixinSet;const u=function(e){let t=e.__mixinApplications;t||(t=new WeakMap,e.__mixinApplications=t);let n=s++;return function(r){let i=r.__mixinSet;if(i&&i[n])return r;let o=t,s=o.get(r);s||(s=e(r),o.set(r,s));let a=Object.create(s.__mixinSet||i||null);return a[n]=!0,s.__mixinSet=a,s}},c=[];
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let l=0,d=0,h=[],f=0,p=document.createTextNode("");new window.MutationObserver(function(){const e=h.length;for(let t=0;t<e;t++){let n=h[t];if(n)try{n()}catch(e){setTimeout(()=>{throw e})}}h.splice(0,e),d+=e}).observe(p,{characterData:!0});const v={run:e=>(p.textContent=f++,h.push(e),l++),cancel(e){const t=e-d;if(t>=0){if(!h[t])throw new Error("invalid async handle: "+e);h[t]=null}}},g=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?e=>ShadyDOM.patch(e):e=>e,y=v,_=u(e=>(class extends e{static createProperties(e){const t=this.prototype;for(let n in e)n in t||t._createPropertyAccessor(n)}static attributeNameForProperty(e){return e.toLowerCase()}static typeForProperty(e){}_createPropertyAccessor(e,t){this._addPropertyToAttributeMap(e),this.hasOwnProperty("__dataHasAccessor")||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[e]||(this.__dataHasAccessor[e]=!0,this._definePropertyAccessor(e,t))}_addPropertyToAttributeMap(e){if(this.hasOwnProperty("__dataAttributes")||(this.__dataAttributes=Object.assign({},this.__dataAttributes)),!this.__dataAttributes[e]){const t=this.constructor.attributeNameForProperty(e);this.__dataAttributes[t]=e}}_definePropertyAccessor(e,t){Object.defineProperty(this,e,{get(){return this._getProperty(e)},set:t?function(){}:function(t){this._setProperty(e,t)}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let e in this.__dataHasAccessor)this.hasOwnProperty(e)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[e]=this[e],delete this[e])}_initializeInstanceProperties(e){Object.assign(this,e)}_setProperty(e,t){this._setPendingProperty(e,t)&&this._invalidateProperties()}_getProperty(e){return this.__data[e]}_setPendingProperty(e,t,n){let r=this.__data[e],i=this._shouldPropertyChange(e,t,r);return i&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),!this.__dataOld||e in this.__dataOld||(this.__dataOld[e]=r),this.__data[e]=t,this.__dataPending[e]=t),i}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,y.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){const e=this.__data,t=this.__dataPending,n=this.__dataOld;this._shouldPropertiesChange(e,t,n)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(e,t,n))}_shouldPropertiesChange(e,t,n){return Boolean(t)}_propertiesChanged(e,t,n){}_shouldPropertyChange(e,t,n){return n!==t&&(n==n||t==t)}attributeChangedCallback(e,t,n,r){t!==n&&this._attributeToProperty(e,n),super.attributeChangedCallback&&super.attributeChangedCallback(e,t,n,r)}_attributeToProperty(e,t,n){if(!this.__serializing){const r=this.__dataAttributes,i=r&&r[e]||e;this[i]=this._deserializeValue(t,n||this.constructor.typeForProperty(i))}}_propertyToAttribute(e,t,n){this.__serializing=!0,n=arguments.length<3?this[e]:n,this._valueToNodeAttribute(this,n,t||this.constructor.attributeNameForProperty(e)),this.__serializing=!1}_valueToNodeAttribute(e,t,n){const r=this._serializeValue(t);"class"!==n&&"name"!==n&&"slot"!==n||(e=g(e)),void 0===r?e.removeAttribute(n):e.setAttribute(n,r)}_serializeValue(e){switch(typeof e){case"boolean":return e?"":void 0;default:return null!=e?e.toString():void 0}}_deserializeValue(e,t){switch(t){case Boolean:return null!==e;case Number:return Number(e);default:return e}}})),m=u(e=>{const t=_(e);function n(e){const t=Object.getPrototypeOf(e);return t.prototype instanceof i?t:null}function r(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",e))){let t=null;if(e.hasOwnProperty(JSCompiler_renameProperty("properties",e))){const n=e.properties;n&&(t=
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function(e){const t={};for(let n in e){const r=e[n];t[n]="function"==typeof r?{type:r}:r}return t}(n))}e.__ownProperties=t}return e.__ownProperties}class i extends t{static get observedAttributes(){if(!this.hasOwnProperty("__observedAttributes")){!function(e){c.push(e)}(this.prototype);const e=this._properties;this.__observedAttributes=e?Object.keys(e).map(e=>this.attributeNameForProperty(e)):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const e=n(this);e&&e.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const e=r(this);e&&this.createProperties(e)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const e=n(this);this.__properties=Object.assign({},e&&e._properties,r(this))}return this.__properties}static typeForProperty(e){const t=this._properties[e];return t&&t.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return i}),b=new Map,w=(e,...t)=>new S(e,t,"html");class S{constructor(e,t,n,r=L){this.strings=e,this.values=t,this.type=n,this.partCallback=r}getHTML(){const e=this.strings.length-1;let t="",n=!0;for(let r=0;r<e;r++){const e=this.strings[r];t+=e;const i=P(e);t+=(n=i>-1?i<e.length:n)?I:x}return t+this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}const x=`{{lit-${String(Math.random()).slice(2)}}}`,I=`\x3c!--${x}--\x3e`,E=new RegExp(`${x}|${I}`),T=/[ \x09\x0a\x0c\x0d]([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=\/]+)[ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*)$/;function P(e){const t=e.lastIndexOf(">");return e.indexOf("<",t+1)>-1?e.length:t}class N{constructor(e,t,n,r,i){this.type=e,this.index=t,this.name=n,this.rawName=r,this.strings=i}}const O=e=>-1!==e.index;class C{constructor(e,t){this.parts=[],this.element=t;const n=this.element.content,r=document.createTreeWalker(n,133,null,!1);let i=-1,o=0;const s=[];let a,u;for(;r.nextNode();){i++,a=u;const t=u=r.currentNode;if(1===t.nodeType){if(!t.hasAttributes())continue;const n=t.attributes;let r=0;for(let e=0;e<n.length;e++)n[e].value.indexOf(x)>=0&&r++;for(;r-- >0;){const r=e.strings[o],s=T.exec(r)[1],a=n.getNamedItem(s),u=a.value.split(E);this.parts.push(new N("attribute",i,a.name,s,u)),t.removeAttribute(a.name),o+=u.length-1}}else if(3===t.nodeType){const e=t.nodeValue;if(e.indexOf(x)<0)continue;const n=t.parentNode,r=e.split(E),a=r.length-1;o+=a;for(let e=0;e<a;e++)n.insertBefore(""===r[e]?document.createComment(""):document.createTextNode(r[e]),t),this.parts.push(new N("node",i++));n.insertBefore(""===r[a]?document.createComment(""):document.createTextNode(r[a]),t),s.push(t)}else if(8===t.nodeType&&t.nodeValue===x){const e=t.parentNode,n=t.previousSibling;null===n||n!==a||n.nodeType!==Node.TEXT_NODE?e.insertBefore(document.createComment(""),t):i--,this.parts.push(new N("node",i++)),s.push(t),null===t.nextSibling?e.insertBefore(document.createComment(""),t):i--,u=a,o++}}for(const e of s)e.parentNode.removeChild(e)}}const j=(e,t)=>R(t)?(t=t(e),k):null===t?void 0:t,R=e=>"function"==typeof e&&!0===e.__litDirective,k={},A=e=>null===e||!("object"==typeof e||"function"==typeof e);class M{constructor(e,t,n,r){this.instance=e,this.element=t,this.name=n,this.strings=r,this.size=r.length-1,this._previousValues=[]}_interpolate(e,t){const n=this.strings,r=n.length-1;let i="";for(let o=0;o<r;o++){i+=n[o];const r=j(this,e[t+o]);if(r&&r!==k&&(Array.isArray(r)||"string"!=typeof r&&r[Symbol.iterator]))for(const e of r)i+=e;else i+=r}return i+n[r]}_equalToPreviousValues(e,t){for(let n=t;n<t+this.size;n++)if(this._previousValues[n]!==e[n]||!A(e[n]))return!1;return!0}setValue(e,t){if(this._equalToPreviousValues(e,t))return;const n=this.strings;let r;2===n.length&&""===n[0]&&""===n[1]?(r=j(this,e[t]),Array.isArray(r)&&(r=r.join(""))):r=this._interpolate(e,t),r!==k&&this.element.setAttribute(this.name,r),this._previousValues=e}}class D{constructor(e,t,n){this.instance=e,this.startNode=t,this.endNode=n,this._previousValue=void 0}setValue(e){if((e=j(this,e))!==k)if(A(e)){if(e===this._previousValue)return;this._setText(e)}else e instanceof S?this._setTemplateResult(e):Array.isArray(e)||e[Symbol.iterator]?this._setIterable(e):e instanceof Node?this._setNode(e):void 0!==e.then?this._setPromise(e):this._setText(e)}_insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}_setNode(e){this._previousValue!==e&&(this.clear(),this._insert(e),this._previousValue=e)}_setText(e){const t=this.startNode.nextSibling;e=void 0===e?"":e,t===this.endNode.previousSibling&&t.nodeType===Node.TEXT_NODE?t.textContent=e:this._setNode(document.createTextNode(e)),this._previousValue=e}_setTemplateResult(e){const t=this.instance._getTemplate(e);let n;this._previousValue&&this._previousValue.template===t?n=this._previousValue:(n=new F(t,this.instance._partCallback,this.instance._getTemplate),this._setNode(n._clone()),this._previousValue=n),n.update(e.values)}_setIterable(e){Array.isArray(this._previousValue)||(this.clear(),this._previousValue=[]);const t=this._previousValue;let n=0;for(const r of e){let e=t[n];if(void 0===e){let r=this.startNode;n>0&&(r=t[n-1].endNode=document.createTextNode(""),this._insert(r)),e=new D(this.instance,r,this.endNode),t.push(e)}e.setValue(r),n++}if(0===n)this.clear(),this._previousValue=void 0;else if(n<t.length){const e=t[n-1];t.length=n,this.clear(e.endNode.previousSibling),e.endNode=this.endNode}}_setPromise(e){this._previousValue=e,e.then(t=>{this._previousValue===e&&this.setValue(t)})}clear(e=this.startNode){B(this.startNode.parentNode,e.nextSibling,this.endNode)}}const L=(e,t,n)=>{if("attribute"===t.type)return new M(e,n,t.name,t.strings);if("node"===t.type)return new D(e,n,n.nextSibling);throw new Error(`Unknown part type ${t.type}`)};class F{constructor(e,t,n){this._parts=[],this.template=e,this._partCallback=t,this._getTemplate=n}update(e){let t=0;for(const n of this._parts)n?void 0===n.size?(n.setValue(e[t]),t++):(n.setValue(e,t),t+=n.size):t++}_clone(){const e=this.template.element.content.cloneNode(!0),t=this.template.parts;if(t.length>0){const n=document.createTreeWalker(e,133,null,!1);let r=-1;for(let e=0;e<t.length;e++){const i=t[e],o=O(i);if(o)for(;r<i.index;)r++,n.nextNode();this._parts.push(o?this._partCallback(this,i,n.currentNode):void 0)}}return e}}const B=(e,t,n=null)=>{let r=t;for(;r!==n;){const t=r.nextSibling;e.removeChild(r),r=t}},z=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT,V=e=>{let t=1;const n=document.createTreeWalker(e,z,null,!1);for(;n.nextNode();)t++;return t},U=(e,t=-1)=>{for(let n=t+1;n<e.length;n++){const t=e[n];if(O(t))return n}return-1},q=(e,t)=>`${e}--${t}`,$=e=>t=>{const n=q(t.type,e);let r=b.get(n);void 0===r&&(r=new Map,b.set(n,r));let i=r.get(t.strings);if(void 0===i){const n=t.getTemplateElement();"object"==typeof window.ShadyCSS&&window.ShadyCSS.prepareTemplateDom(n,e),i=new C(t,n),r.set(t.strings,i)}return i},H=["html","svg"];const Q=new Set,W=(e,t,n)=>{if(!Q.has(n)){Q.add(n);const r=document.createElement("template");if(Array.from(e.querySelectorAll("style")).forEach(e=>{r.content.appendChild(e)}),window.ShadyCSS.prepareTemplateStyles(r,n),function(e){H.forEach(t=>{const n=b.get(q(t,e));void 0!==n&&n.forEach(e=>{const{element:{content:t}}=e,n=t.querySelectorAll("style");!function(e,t){const{element:{content:n},parts:r}=e,i=document.createTreeWalker(n,z,null,!1);let o=0,s=r[0],a=-1,u=0;const c=[];let l=null;for(;i.nextNode();){a++;const e=i.currentNode;for(e.previousSibling===l&&(l=null),t.has(e)&&(c.push(e),null===l&&(l=e)),null!==l&&u++;void 0!==s&&s.index===a;)s.index=null!==l?-1:s.index-u,s=r[++o]}c.forEach(e=>e.parentNode.removeChild(e))}(e,new Set(Array.from(n)))})})}(n),window.ShadyCSS.nativeShadow){const n=r.content.querySelector("style");null!==n&&(e.insertBefore(n,e.firstChild),function(e,t,n=null){const{element:{content:r},parts:i}=e;if(null==n)return void r.appendChild(t);const o=document.createTreeWalker(r,z,null,!1);let s=U(i),a=0,u=-1;for(;o.nextNode();)for(u++,o.currentNode===n&&(n.parentNode.insertBefore(t,n),a=V(t));-1!==s&&i[s].index===u;){if(a>0){for(;-1!==s;)i[s].index+=a,s=U(i,s);return}s=U(i,s)}}(t,n.cloneNode(!0),t.element.content.firstChild))}}},X=(e,...t)=>new S(e,t,"html",J),J=(e,t,n)=>{if("attribute"===t.type){if("on-"===t.rawName.substr(0,3))return new class{constructor(e,t,n){this.instance=e,this.element=t,this.eventName=n}setValue(e){const t=j(this,e);t!==this._listener&&(null==t?this.element.removeEventListener(this.eventName,this):null==this._listener&&this.element.addEventListener(this.eventName,this),this._listener=t)}handleEvent(e){"function"==typeof this._listener?this._listener.call(this.element,e):"function"==typeof this._listener.handleEvent&&this._listener.handleEvent(e)}}(e,n,t.rawName.slice(3));const r=t.name.substr(t.name.length-1);if("$"===r){const r=t.name.slice(0,-1);return new M(e,n,r,t.strings)}return"?"===r?new class extends M{setValue(e,t){const n=this.strings;if(2!==n.length||""!==n[0]||""!==n[1])throw new Error("boolean attributes can only contain a single expression");{const n=j(this,e[t]);if(n===k)return;n?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}}(e,n,t.name.slice(0,-1),t.strings):new class extends M{setValue(e,t){const n=this.strings;let r;this._equalToPreviousValues(e,t)||((r=2===n.length&&""===n[0]&&""===n[1]?j(this,e[t]):this._interpolate(e,t))!==k&&(this.element[this.name]=r),this._previousValues=e)}}(e,n,t.rawName,t.strings)}return L(e,t,n)};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class Y extends(m(HTMLElement)){constructor(){super(...arguments),this.__renderComplete=null,this.__resolveRenderComplete=null,this.__isInvalid=!1,this.__isChanging=!1}ready(){this._root=this._createRoot(),super.ready(),this._firstRendered()}connectedCallback(){window.ShadyCSS&&this._root&&window.ShadyCSS.styleElement(this),super.connectedCallback()}_firstRendered(){}_createRoot(){return this.attachShadow({mode:"open"})}_shouldPropertiesChange(e,t,n){const r=this._shouldRender(e,t,n);return!r&&this.__resolveRenderComplete&&this.__resolveRenderComplete(!1),r}_shouldRender(e,t,n){return!0}_propertiesChanged(e,t,n){super._propertiesChanged(e,t,n);const r=this._render(e);r&&void 0!==this._root&&this._applyRender(r,this._root),this._didRender(e,t,n),this.__resolveRenderComplete&&this.__resolveRenderComplete(!0)}_flushProperties(){this.__isChanging=!0,this.__isInvalid=!1,super._flushProperties(),this.__isChanging=!1}_shouldPropertyChange(e,t,n){const r=super._shouldPropertyChange(e,t,n);return r&&this.__isChanging&&console.trace("Setting properties in response to other properties changing "+`considered harmful. Setting '${e}' from `+`'${this._getProperty(e)}' to '${t}'.`),r}_render(e){throw new Error("_render() not implemented")}_applyRender(e,t){!function(e,t,n){const r=$(n),i=r(e);let o=t.__templateInstance;if(void 0!==o&&o.template===i&&o._partCallback===e.partCallback)return void o.update(e.values);o=new F(i,e.partCallback,r),t.__templateInstance=o;const s=o._clone();o.update(e.values);const a=t instanceof ShadowRoot?t.host:void 0;void 0!==a&&"object"==typeof window.ShadyCSS&&(W(s,i,n),window.ShadyCSS.styleElement(a)),B(t,t.firstChild),t.appendChild(s)}(e,t,this.localName)}_didRender(e,t,n){}requestRender(){this._invalidateProperties()}_invalidateProperties(){this.__isInvalid=!0,super._invalidateProperties()}get renderComplete(){return this.__renderComplete||(this.__renderComplete=new Promise(e=>{this.__resolveRenderComplete=t=>{this.__resolveRenderComplete=this.__renderComplete=null,e(t)}}),!this.__isInvalid&&this.__resolveRenderComplete&&Promise.resolve().then(()=>this.__resolveRenderComplete(!1))),this.__renderComplete}}var G=n(12),K=n(10),Z=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})};class ee extends Y{constructor(){super(...arguments),this.managerName=window.localStorage.getItem("infinity-framework-app-name"),this.mapStateToProps=e=>({})}componentStyles(){return null}_bindManager(e){return Z(this,void 0,void 0,function*(){this.manager=G.a.GetRegistration(this.managerName||window.localStorage.getItem("infinity-framework-app-name")),this.manager&&(this._stateListener(),this._setupEventListeners(),yield this._init())})}getStyles(){return this.styles&&this.styles.length?this.styles.reduce((e,t)=>e+=t,""):this.componentStyles()||""}_stateListener(){this.mapStateToProps&&(this.manager.on(K.a.ReduxUpdate,()=>this._updateProps()),this._updateProps())}_updateProps(){if(this.manager.redux){const e=this.manager.redux.getState(),t=this.mapStateToProps(e);Object.keys(t).forEach(e=>{this[e]=t[e]})}}connectedCallback(){super.connectedCallback();const e=G.a.GetRegistration(this.managerName||window.localStorage.getItem("infinity-framework-app-name"));e&&e.isReady?(this.manager=e,this._stateListener(),this._setupEventListeners(),Promise.resolve().then(()=>Z(this,void 0,void 0,function*(){return yield this._init()}))):document.addEventListener(K.a.ClientManagerReady,e=>this._bindManager(e))}_createRoot(){return this.shadow?this.attachShadow({mode:"open"}):this}_renderStyle(){return X`<style>${this.getStyles()}</style>`}_render(e){return X`
            ${this._renderStyle()}
            ${this.componentMarkup(e)}
        `}}class te extends ee{constructor(){super(...arguments),this.isLoading=!1}toggleLoading(e){this.isLoading=void 0===e?!this.isLoading:e}renderLoader(){return X`<wc-loading-spinner iconColor="black" showing="${this.isLoading}"></wc-loading-spinner>`}}!function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);o>3&&s&&Object.defineProperty(t,n,s)}([o({type:Boolean})],te.prototype,"isLoading",void 0);var ne=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})};class re{constructor(e){this.messageType=null,this.eventType=[],this.filters=[],this.manager=e}callHandleMessage(e){return ne(this,void 0,void 0,function*(){yield this.handleMessage(e)})}callHandleEvent(e,t){return ne(this,void 0,void 0,function*(){yield this.handleEvent(e,t)})}registerFilter(e){this.filters.includes("filter")||this.filters.push(e)}unregisterFilter(e){const t=this.filters.findIndex(t=>t===e);t>-1&&this.filters.splice(t,1)}clearAllFilters(){this.filters=[]}}var ie=n(13);n(15),
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
new WeakMap,n.d(t,"d",function(){return r.a}),n.d(t,"g",function(){return r.b}),n.d(t,"h",function(){return r.c}),n.d(t,"i",function(){return r.d}),n.d(t,"s",function(){return r.l}),n.d(t,"t",function(){return r.m}),n.d(t,"j",function(){return r.e}),n.d(t,"p",function(){return r.j}),n.d(t,"q",function(){return r.k}),n.d(t,"o",function(){return r.h}),n.d(t,"m",function(){return r.g}),n.d(t,"l",function(){return r.f}),n.d(t,"k",function(){return i}),n.d(t,"r",function(){return o}),n.d(t,"b",function(){return ee}),n.d(t,"c",function(){return te}),n.d(t,"e",function(){return K.b}),n.d(t,"a",function(){return re}),n.d(t,"f",function(){return ie.a}),n.d(t,"n",function(){return w})},,function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(o).concat([i]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var s=e[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n(11);class i{}i.DataStorage="data-storage",i.Events="events",i.ReduxClient="redux-client",i.RestClient="rest-client",i.Router="router",i.WSClient="ws-client",i.Other="other";class o{constructor(e=null){this._types=e,this.isIE=Object(r.j)()}log(e,...t){!this.isIE&&this.shouldLog(e)&&console.log.call(null,...t)}info(e,...t){!this.isIE&&this.shouldLog(e)&&console.info.call(null,...t)}warn(e,...t){!this.isIE&&this.shouldLog(e)&&console.warn.call(null,...t)}debug(e,...t){!this.isIE&&this.shouldLog(e)&&console.debug.call(null,...t)}error(...e){this.isIE||console.error.call(null,...e)}getTypes(){return this._types}setTypes(e){this._types=e||[]}shouldLog(e){return!(!this._types||!this._types.length)&&(!!this._types.includes("_all_")||this._types.includes(e.toString()))}}},function(e,t,n){"use strict";function r(e){const t=document.createElement("div");return Object.assign({},t.style,e)}function i(){return void 0!==window.InstallTrigger}function o(e){return(e=e||navigator.userAgent).indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1||e.indexOf("Edge/")>-1}function s(){return!!window.MSInputMethodContext&&!!document.documentMode}function a(){return!!window.cti}function u(e){try{return JSON.parse(JSON.stringify(e))}catch(e){return null}}function c(e=!1){if(e){let e=46656*Math.random()|0,t=46656*Math.random()|0;return(e=("000"+e.toString(36)).slice(-3))+(t=("000"+t.toString(36)).slice(-3))}{let e=Date.now();return window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)})}}n.d(t,"a",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"f",function(){return o}),n.d(t,"g",function(){return s}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return c})},function(e,t,n){"use strict";class r{constructor(){}}class i extends r{constructor(e,t){super(),this.action=e,this.payload=t}}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i});class o{}o.ClientManagerReady="client-manager-ready",o.ClosePopoutMenu="close-popout-menu",o.Online="online",o.Offline="offline",o.ReduxUpdate="redux-update"},function(e,t,n){"use strict";var r=n(8),i=n(12),o=n(19),s="object"==typeof self&&self&&self.Object===Object&&self,a=(o.a||s||Function("return this")()).Symbol,u=Object.prototype,c=u.hasOwnProperty,l=u.toString,d=a?a.toStringTag:void 0,h=Object.prototype.toString,f=a?a.toStringTag:void 0,p=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":f&&f in Object(e)?function(e){var t=c.call(e,d),n=e[d];try{e[d]=void 0;var r=!0}catch(e){}var i=l.call(e);return r&&(t?e[d]=n:delete e[d]),i}(e):function(e){return h.call(e)}(e)},v=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),g=Function.prototype,y=Object.prototype,_=g.toString,m=y.hasOwnProperty,b=_.call(Object),w=function(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||"[object Object]"!=p(e))return!1;var t=v(e);if(null===t)return!0;var n=m.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&_.call(n)==b},S=n(17),x={INIT:"@@redux/INIT"};function I(e,t,n){var r;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(I)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var i=e,o=t,s=[],a=s,u=!1;function c(){a===s&&(a=s.slice())}function l(){return o}function d(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return c(),a.push(e),function(){if(t){t=!1,c();var n=a.indexOf(e);a.splice(n,1)}}}function h(e){if(!w(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,o=i(o,e)}finally{u=!1}for(var t=s=a,n=0;n<t.length;n++)(0,t[n])();return e}return h({type:x.INIT}),(r={dispatch:h,subscribe:d,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,h({type:x.INIT})}})[S.a]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[S.a]=function(){return this},e},r}function E(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var P=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})};class N{constructor(e={},t,n,r){this.select=(e,...t)=>e(this.reduxStore.getState(),...t),this._persist=e=>e=>t=>{const n=e(t);return this._persistToStore(),n},this._persistToStore=()=>P(this,void 0,void 0,function*(){return yield this.store.setState(this.reduxStore.getState())}),this.config=e,this.store=t,this.logger=n,this.subscriber=r}init(){return P(this,void 0,void 0,function*(){this.reduxStore=I(function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o=Object.keys(n),s=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:x.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+x.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){s=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(s)throw s;for(var r=!1,i={},a=0;a<o.length;a++){var u=o[a],c=n[u],l=e[u],d=c(l,t);if(void 0===d){var h=E(u,t);throw new Error(h)}i[u]=d,r=r||d!==l}return r?i:e}}(this.reducers()),this.store.getState(),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var o,s=e(n,r,i),a=s.dispatch,u={getState:s.getState,dispatch:function(e){return a(e)}};return o=t.map(function(e){return e(u)}),a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}.apply(void 0,o)(s.dispatch),T({},s,{dispatch:a})}}}(this._persist)),this.reduxStore.subscribe(this.subscriber)})}dispatch(e){this.logger.log(r.b.ReduxClient,"Redux action:",e),this.reduxStore.dispatch(e)}getState(){return this.reduxStore.getState()}compose(...e){return e.reduce((e,t)=>t("function"==typeof e?e(this.reduxStore.getState()):e))}}var O=n(13),C=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})};class j{constructor(e,t,n){this.config=e,this.store=t,this.logger=n,this._resetRequestOptions()}_generateQueryString(e){return e?e.reduce((e,t,n)=>{let r="";return r+=0===n?"?":"&","string"!=typeof t.value&&(t.value=JSON.stringify(t.value)),e+(r+`${t.key}=${encodeURIComponent(t.value)}`)},""):""}_resetRequestOptions(){this.headers=new Headers,this.requestOptions={headers:this.headers}}_sendMessage(e,t,n=[],r={},i={},o=!1,s={}){return C(this,void 0,void 0,function*(){if(!this.config)throw new Error("Rest client not properly configured.");const a={id:"",address:e.includes("https")?e:`${this.config.baseUri}${e}`,verb:t,headers:i,queryParams:n,body:r,attemps:0,lastAttempt:0,opts:s};return o&&(yield this.store.saveToMessageQueue(a)),yield this._httpRequest(a)})}_httpRequest(e){return C(this,void 0,void 0,function*(){let t;this.requestOptions={headers:new Headers(Object.assign({},e.headers))},e.verb===O.a.GET?(t=Object.assign({method:e.verb,mode:"cors"},this.requestOptions),e.address+=this._generateQueryString(e.queryParams)):t=Object.assign({method:e.verb,mode:"cors",body:JSON.stringify(e.body)},this.requestOptions);const n=yield fetch(e.address,Object.assign({},t,e.opts));try{let r={};n.headers&&n.headers.get("content-type")&&n.headers.get("content-type").includes("application/json")&&(r=yield n.json());const i={error:!n.ok,errorMessage:n.ok?null:`${n.status}: ${n.statusText}`,result:r};return n.ok?yield this.store.removeFromMessageQueue(e):(++e.attemps,e.lastAttempt=(new Date).getTime()),this._resetRequestOptions(),i}catch(t){return++e.attemps,e.lastAttempt=(new Date).getTime(),this._resetRequestOptions(),this.logger.error(t),{error:!0,errorMessage:t,result:null}}})}processQueuedMessages(){return C(this,void 0,void 0,function*(){this.store.getMessageQueue().forEach(e=>this._httpRequest(e))})}exampleRequest(e){return C(this,void 0,void 0,function*(){const t=[{key:"filename",value:e}];try{return yield this._sendMessage("your-endpoint-address",O.a.GET,t)}catch(e){this.logger.log(r.b.ReduxClient,e)}})}}var R=n(14);n(10);class k{}function A(e,t,n="x"){e.stopPropagation(),e.stopImmediatePropagation();const r=0-(t+1),i=e.currentTarget,o=i.style.transform;let s=0;o&&(s=k.GetNumberValue(o)),k.CheckIfFirstTouch(e.changedTouches[0].clientX,e.changedTouches[0].clientY);const a=(k.LastTouchMoveX||k.LastTouchStartX)-e.changedTouches[0].clientX,u=(k.LastTouchMoveY||k.LastTouchStartY)-e.changedTouches[0].clientY;k.LastTouchMoveX=e.changedTouches[0].clientX,k.LastTouchMoveY=e.changedTouches[0].clientY,"x"===n?a>0?--s>r&&(i.style.transform=`translateX(${s}vw)`):++s<1&&(i.style.transform=`translateX(${s}vw)`):"y"===n&&(u>1?(s-=1*k.Accelerator,i.style.transform=`translateY(${s}vh)`):u<-.5&&((s+=1*k.Accelerator)>.5&&(s=0),i.style.transform=`translateY(${s}vh)`))}function M(e,t,n="x"){e.stopPropagation(),e.stopImmediatePropagation();const r=e.currentTarget;let i;if(r.style.transform&&(i=k.GetNumberValue(r.style.transform)),"x"===n){const e=(k.LastTouchMoveX-k.LastTouchStartX)/((new Date).getTime()-k.LastTouchStartTime);if(e>1.2)r.style.transform="translateX(0vw)";else if(e<-1.2)r.style.transform=`translateX(-${t}vw)`;else{const e=Math.round(t/2);r.style.transform=i<-e?`translateX(-${t}vw)`:"translateX(0vw)"}}k.Reset()}k.Accelerator=2.5,k.Reset=()=>{delete k.LastTouchStartX,delete k.LastTouchStartY,delete k.LastTouchStartTime,delete k.LastTouchMoveX,delete k.LastTouchMoveY},k.NumMatch=/-?\d+/,k.X=["clientX"],k.Y=["clientY"],k.GetNumberValue=e=>{const t=e.match(k.NumMatch);return t?parseInt(t[0]):null},k.CheckIfFirstTouch=(e,t)=>{k.LastTouchStartX||(k.LastTouchStartX=e),k.LastTouchStartY||(k.LastTouchStartY=t),k.LastTouchStartTime=(new Date).getTime()};var D=n(9);n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return N}),n.d(t,"c",function(){return j}),n.d(t,"d",function(){return R.a}),n.d(t,"l",function(){return A}),n.d(t,"m",function(){return M}),n.d(t,"e",function(){return D.a}),n.d(t,"i",function(){return D.e}),n.d(t,"j",function(){return D.f}),n.d(t,"k",function(){return D.g}),n.d(t,"h",function(){return D.d}),n.d(t,"g",function(){return D.c}),n.d(t,"f",function(){return D.b})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(8),i=n(14),o=n(10),s=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})};class a{constructor(e,t,n,i,s,u){if(this.events={},this._messageHandlers=new Map,this._messageProcessorQueue=Promise.resolve(),this.isReady=!1,this.reduxUpdate=()=>{this.logger.log(r.b.ReduxClient,"Redux Update!"),this.emit(o.a.ReduxUpdate)},this.config=n,this.name=this.config.name,window.localStorage.setItem("infinity-framework-app-name",this.config.name),this.appClasses=s,this.handlers=u,this.appContainer=e,this.views=i,this.logger=new r.a(this.config.logging||[]),a.registrations.set(this.name,this),(void 0===n.bootstrap||!0===n.bootstrap)&&!window.cti){const e=new s.store(this.name,this.logger);let t;s.redux&&(t=new s.redux(this.config.redux||{},e,this.logger,()=>this.reduxUpdate())),this.bootstrap(e,t,s)}}static GetRegistration(e){return a.registrations.get(e)}static FireReady(){document.dispatchEvent(new CustomEvent(o.a.ClientManagerReady))}bootstrap(e,t,n){return Promise.resolve().then(()=>this._setStore(e)).then(()=>this._setRedux(t)).then(()=>this._setRestClient(n)).then(()=>this._setRouter(n)).then(()=>this._setupHandlers()).then(()=>this.bindStartupEvents()).then(()=>{this.isReady=!0,a.FireReady()})}_setStore(e){return new Promise(t=>{this.store=e,this.store.init().then(()=>t())})}_setRedux(e){return new Promise(t=>{e?(this.redux=e,this.redux.init().then(()=>t())):t()})}_setRestClient(e){return new Promise(t=>{this.rest=new e.rest(this.config.rest,this.store,this.logger),t()})}_setRouter(e){return new Promise(t=>{e.router?this.router=e.router:this.router=new i.a(this.appContainer,this.views,this.logger,e=>this.unloadEvents(e)),this.router.triggerFirstLoad(),t()})}_setupHandlers(){return new Promise(e=>{Object.keys(this.handlers).map(e=>new this.handlers[e](this)).forEach(e=>{e.messageType&&this._messageHandlers.set(e.messageType,e),e.eventType&&e.eventType.length&&e.eventType.forEach(t=>{this.on(t,n=>s(this,void 0,void 0,function*(){try{yield e.callHandleEvent(t,n)}catch(e){this.logger.error("Error handling event",`Event type: ${t.toString()}. ${e.message||e}`)}}),!0)})}),e()})}bindStartupEvents(){return new Promise(e=>{document.addEventListener("click",()=>this.emit(o.a.ClosePopoutMenu)),window.addEventListener("online",()=>this.emit(o.a.Online)),window.addEventListener("offline",()=>this.emit(o.a.Offline)),e()})}on(e,t,n=!1){const r=this.router.currentPage?this.router.currentPage.tag:null,i=this.events[e];i?i.push({page:n?null:r,handler:t}):this.events[e]=[{page:n?null:r,handler:t}]}emit(e,t){const n=this.events[e];n&&n.forEach(e=>e.handler(t))}unloadEvents(e){e&&Object.keys(this.events).forEach(t=>{this.events[t]=this.events[t].filter(t=>t.page!==e.tag)})}handleNewWSMessage(e){const t=this._messageHandlers.get(e.action);t&&(this._messageProcessorQueue=this._messageProcessorQueue.then(()=>s(this,void 0,void 0,function*(){try{return yield t.callHandleMessage(e)}catch(e){this.logger.error("Error processing message",e)}})).catch(e=>{this.logger.error("Error processing message",e)}))}triggerBootstrap(){const e=new this.appClasses.store(this.name,this.logger);this.bootstrap(e,this.appClasses.redux?new this.appClasses.redux(this.config.redux||{},e,this.logger,()=>this.reduxUpdate()):void 0,this.appClasses)}}a.registrations=new Map},function(e,t,n){"use strict";var r;!function(e){e.GET="get",e.POST="post",e.PUT="put",e.PATCH="patch",e.DELETE="delete"}(r||(r={})),n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(9),i=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})};class o{constructor(e,t,n,r,i=!1,o=null,s=[]){this.authEnabled=!1,this.pathExceptions=[],this.authEnabled=i,this.authCheck=o,this.pathExceptions=[...s,"index.html","index.ie11.html"],this.routeCallback=r,this.appContainer=e,this.logger=n,this.views=t,this.defaultView=Object.keys(this.views).map(e=>this.views[e]).find(e=>e.default),this._bindEvents()}_bindEvents(){window.addEventListener("popstate",e=>this._popState(e))}_firstLoad(){return i(this,void 0,void 0,function*(){const e=this._getQueryStringParams();if(window.process&&window.process.type)this.authEnabled&&e.code?this.authCheck&&(yield this.authCheck(e)):this._updateDom(this.defaultView,e);else{let t="";const n=window.location.pathname.lastIndexOf("/");if(n>-1&&(t=window.location.pathname.substring(n+1),this.pathExceptions.find(e=>e===t)&&(t="")),""===t&&!e.code&&this.defaultView)this._updateDom(this.defaultView,e);else{const n=Object.keys(this.views).map(e=>this.views[e]).find(e=>e.uri===t);if(n)if(this.authEnabled&&n.auth)if(!e||e.code||e.state||localStorage.setItem("queryParams",JSON.stringify(e)),yield this.authCheck(e))this._updateDom(n,e);else{const t=this.defaultView||Object.keys(this.views).map(e=>this.views[e]).find(e=>e.default);t?(window.history.pushState(t,"/",t.uri),this._updateDom(t,e)):this.logger.error("Auth check failed and no default view to load has been found.")}else this._updateDom(n,e)}}})}_updateDom(e,t){const n=document.getElementById(this.appContainer);if(n){for(this.routeCallback(this.currentPage),this.currentPage=e;n.childNodes.length>0;)n.childNodes[0].parentElement?n.childNodes[0].parentElement.removeChild(n.childNodes[0]):n.innerHTML="";const r=document.createElement(e.tag);t&&(r.query=t),n.appendChild(r),window.document.title=e.title}else this.logger.error("No app container found.")}_popState(e){const t=e.state;t?(Object(r.d)()&&setTimeout(()=>window.history.pushState(t,"",`${this._fixUrlForCTI(window.location.href)}${"/"===t.uri?"":t.uri}`),200),this._updateDom(t)):this._updateDom(this.defaultView)}_navigate(e,t){return i(this,void 0,void 0,function*(){this.authCheck&&e.auth?(t&&localStorage.setItem("queryParams",JSON.stringify(t)),(yield this.authCheck(t))&&this._updateDom(e,t)):this._updateDom(e,t)})}_getQueryStringParams(){let e;const t=/\+/g,n=/([^&=]+)=?([^&]*)/g,r=e=>decodeURIComponent(e.replace(t," ")),i=window.location.search,o={};for(;e=n.exec(i);)o[r(e[1]).replace("?","")]=r(e[2]);return o}_fixUrlForCTI(e){return e.includes("www")?`${e.substr(0,window.location.href.indexOf("www")+"www".length)}/`:e.substr(0,e.indexOf("#"))}triggerFirstLoad(){this._firstLoad()}goToPage(e,t){return i(this,void 0,void 0,function*(){Object(r.d)()?window.history.pushState(e,"",`${this._fixUrlForCTI(window.location.href)}${"/"===e.uri?"":e.uri}`):window.history.pushState(e,"",e.uri),this._navigate(e,t)})}replacePage(e,t){window.history.replaceState(e,"",e.uri),this._navigate(e,t)}goBack(){window.history.back()}replace(e){window.location.replace(e||"/")}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(20),i=n.n(r),o=n(8),s=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}u((r=r.apply(e,t||[])).next())})};class a{constructor(e,t){this._saveToPersistentQueue=Promise.resolve(),this.name=e,this.logger=t,this._db=i.a.createInstance({name:e})}init(){return s(this,void 0,void 0,function*(){this.state=yield this._getFromPersistent(),yield this._saveToPersistent()})}getState(){return Object.keys(this.state).reduce((e,t)=>("_id"!==t&&"messageQueue"!==t&&(e[t]=this.state[t]),e),{})}setState(e){return s(this,void 0,void 0,function*(){const t=Object.assign({},e,{_id:this.state._id,messageQueue:this.state.messageQueue||[]});yield this._saveToPersistent(t),this.state=t})}clearDb(){return s(this,void 0,void 0,function*(){return yield this._db.clear(),this.state=this._generateInitialState(),this._saveToPersistent()})}getFromState(e){return this.state[e]||null}saveToState(e,t){return s(this,void 0,void 0,function*(){return this.state[e]=t,yield this._saveToPersistent()})}saveToMessageQueue(e){return s(this,void 0,void 0,function*(){return this.state.messageQueue&&this.state.messageQueue instanceof Array?this.state.messageQueue.push(e):this.state.messageQueue=[e],yield this._saveToPersistent()})}removeFromMessageQueue(e){return s(this,void 0,void 0,function*(){const t=this.state.messageQueue.findIndex(t=>t.id===e.id);if(t>-1)return this.state.messageQueue.splice(t,1),yield this._saveToPersistent()})}getMessageQueue(){return this.state.messageQueue}_saveToPersistent(e){return s(this,void 0,void 0,function*(){clearTimeout(this._saveDebouncer),this._saveDebouncer=setTimeout(()=>{this.logger.log(o.b.DataStorage,"Persisting state now..."),this._db?this._saveToPersistentQueue=this._saveToPersistentQueue.then(()=>s(this,void 0,void 0,function*(){try{yield this._db.setItem("state",this.state),this.logger.log(o.b.DataStorage,"Persisting state complete.")}catch(e){throw this.logger.error(e),new Error(e)}})):localStorage[this.name]=JSON.stringify(this.state)},500)})}_getFromPersistent(){return s(this,void 0,void 0,function*(){if(this._db)try{return(yield this._db.getItem("state"))||this._generateInitialState()}catch(e){const t=this._generateInitialState();return yield this._saveToPersistent(),t}else localStorage.getItem(this.name)?JSON.parse(localStorage.getItem(this.name)):this._generateInitialState()})}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e,r){var i,o=n(18);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var s=Object(o.a)(i);t.a=s}).call(this,n(16),n(23)(e))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(16))},function(e,t,n){(function(t){var n;e.exports=function e(t,r,i){function o(a,u){if(!r[a]){if(!t[a]){if(!u&&("function"==typeof n&&n))return n(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){return o(t[a][1][e]||e)},l,l.exports,e,t,r,i)}return r[a].exports}for(var s="function"==typeof n&&n,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(e,n,r){(function(e){"use strict";var t,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,s=new i(l),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),t=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)t="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var u=new e.MessageChannel;u.port1.onmessage=l,t=function(){u.port2.postMessage(0)}}var c=[];function l(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}n.exports=function(e){1!==c.push(e)||r||t()}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],u=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,e!==i&&f(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r(function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)})}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var s=p(function(){t(i,r)});"error"===s.status&&r(s.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(i);this.state!==u?d(n,this.state===a?e:t,this.outcome):this.queue.push(new l(n,e,t));return n},l.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){o.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(h,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,u=-1,c=new this(i);++u<n;)l(e[u],u);return c;function l(e,i){t.resolve(e).then(function(e){s[i]=e,++a!==n||r||(r=!0,o.resolve(c,s))},function(e){r||(r=!0,o.reject(c,e))})}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=-1,a=new this(i);++s<n;)u(e[s]);return a;function u(e){t.resolve(e).then(function(e){r||(r=!0,o.resolve(a,e))},function(e){r||(r=!0,o.reject(a,e))})}}},{1:1}],3:[function(e,n,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var s=Promise;function a(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function u(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function c(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",h=void 0,f={},p=Object.prototype.toString,v="readonly",g="readwrite";function y(e){return"boolean"==typeof h?s.resolve(h):function(e){return new s(function(t){var n=e.transaction(d,g),r=o([""]);n.objectStore(d).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}(e).then(function(e){return h=e})}function _(e){var t=f[e.name],n={};n.promise=new s(function(e,t){n.resolve=e,n.reject=t}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function m(e){var t=f[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function b(e,t){var n=f[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function w(e,t){return new s(function(n,r){if(f[e.name]=f[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);_(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var s=i.open.apply(i,o);t&&(s.onupgradeneeded=function(t){var n=s.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(d)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),s.onerror=function(e){e.preventDefault(),r(s.error)},s.onsuccess=function(){n(s.result),m(e)}})}function S(e){return w(e,!1)}function x(e){return w(e,!0)}function I(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function E(e){return o([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data))],{type:e.type})}function T(e){return e&&e.__local_forage_encoded_blob}function P(e){var t=this,n=t._initReady().then(function(){var e=f[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return u(n,e,e),n}function N(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return s.resolve().then(function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),x(e)}).then(function(){return function(e){_(e);for(var t=f[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,S(e).then(function(t){return e.db=t,I(e)?x(e):t}).then(function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(t){throw b(e,t),t})}(e).then(function(){N(e,t,n,r-1)})}).catch(n);n(i)}}var O={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=f[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},f[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=P);var o=[];function a(){return s.resolve()}for(var u=0;u<i.forages.length;u++){var c=i.forages[u];c!==t&&o.push(c._initReady().catch(a))}var l=i.forages.slice(0);return s.all(o).then(function(){return n.db=i.db,S(n)}).then(function(e){return n.db=e,I(n,t._defaultConfig.version)?x(n):e}).then(function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<l.length;r++){var o=l[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}})},_support:function(){try{if(!i)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new s(function(t,r){n.ready().then(function(){N(n._dbInfo,v,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;T(r)&&(r=E(r));var i=e(r,n.key,a++);void 0!==i?t(i):n.continue()}else t()},s.onerror=function(){r(s.error)}}catch(e){r(e)}})}).catch(r)});return a(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new s(function(t,r){n.ready().then(function(){N(n._dbInfo,v,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),T(e)&&(e=E(e)),t(e)},s.onerror=function(){r(s.error)}}catch(e){r(e)}})}).catch(r)});return a(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var i=new s(function(n,i){var o;r.ready().then(function(){return o=r._dbInfo,"[object Blob]"===p.call(t)?y(o.db).then(function(e){return e?t:function(e){return new s(function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}(t)}):t}).then(function(t){N(r._dbInfo,g,function(o,s){if(o)return i(o);try{var a=s.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var u=a.put(t,e);s.oncomplete=function(){void 0===t&&(t=null),n(t)},s.onabort=s.onerror=function(){var e=u.error?u.error:u.transaction.error;i(e)}}catch(e){i(e)}})}).catch(i)});return a(i,n),i},removeItem:function(e,t){var n=this;e=c(e);var r=new s(function(t,r){n.ready().then(function(){N(n._dbInfo,g,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(s.error)},o.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return a(r,t),r},clear:function(e){var t=this,n=new s(function(e,n){t.ready().then(function(){N(t._dbInfo,g,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)});return a(n,e),n},length:function(e){var t=this,n=new s(function(e,n){t.ready().then(function(){N(t._dbInfo,v,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}})}).catch(n)});return a(n,e),n},key:function(e,t){var n=this,r=new s(function(t,r){e<0?t(null):n.ready().then(function(){N(n._dbInfo,v,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,u=s.openCursor();u.onsuccess=function(){var n=u.result;n?0===e?t(n.key):a?t(n.key):(a=!0,n.advance(e)):t(null)},u.onerror=function(){r(u.error)}}catch(e){r(e)}})}).catch(r)});return a(r,t),r},keys:function(e){var t=this,n=new s(function(e,n){t.ready().then(function(){N(t._dbInfo,v,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openCursor(),s=[];o.onsuccess=function(){var t=o.result;t?(s.push(t.key),t.continue()):e(s)},o.onerror=function(){n(o.error)}}catch(e){n(e)}})}).catch(n)});return a(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var o=e.name===r.name&&this._dbInfo.db,u=o?s.resolve(this._dbInfo.db):S(e).then(function(t){var n=f[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t});n=e.storeName?u.then(function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;_(e);var r=f[e.name],o=r.forages;t.close();for(var a=0;a<o.length;a++){var u=o[a];u._dbInfo.db=null,u._dbInfo.version=n}return new s(function(t,r){var o=i.open(e.name,n);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,m(n._dbInfo)}}).catch(function(t){throw(b(e,t)||s.resolve()).catch(function(){}),t})}}):u.then(function(t){_(e);var n=f[e.name],r=n.forages;t.close();for(var o=0;o<r.length;o++){r[o]._dbInfo.db=null}return new s(function(t,n){var r=i.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<r.length;t++){m(r[t]._dbInfo)}}).catch(function(t){throw(b(e,t)||s.resolve()).catch(function(){}),t})})}else n=s.reject("Invalid arguments");return a(n,t),n}},C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=/^~~local_forage_type~([^~]+)~/,R="__lfsc__:",k=R.length,A="arbf",M="blob",D="si08",L="ui08",F="uic8",B="si16",z="si32",V="ur16",U="ui32",q="fl32",$="fl64",H=k+A.length,Q=Object.prototype.toString;function W(e){var t,n,r,i,o,s=.75*e.length,a=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),l=new Uint8Array(c);for(t=0;t<a;t+=4)n=C.indexOf(e[t]),r=C.indexOf(e[t+1]),i=C.indexOf(e[t+2]),o=C.indexOf(e[t+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}function X(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=C[n[t]>>2],r+=C[(3&n[t])<<4|n[t+1]>>4],r+=C[(15&n[t+1])<<2|n[t+2]>>6],r+=C[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var J={serialize:function(e,t){var n="";if(e&&(n=Q.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===Q.call(e.buffer))){var r,i=R;e instanceof ArrayBuffer?(r=e,i+=A):(r=e.buffer,"[object Int8Array]"===n?i+=D:"[object Uint8Array]"===n?i+=L:"[object Uint8ClampedArray]"===n?i+=F:"[object Int16Array]"===n?i+=B:"[object Uint16Array]"===n?i+=V:"[object Int32Array]"===n?i+=z:"[object Uint32Array]"===n?i+=U:"[object Float32Array]"===n?i+=q:"[object Float64Array]"===n?i+=$:t(new Error("Failed to get type for BinaryArray"))),t(i+X(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+X(this.result);t(R+M+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,k)!==R)return JSON.parse(e);var t,n=e.substring(H),r=e.substring(k,H);if(r===M&&j.test(n)){var i=n.match(j);t=i[1],n=n.substring(i[0].length)}var s=W(n);switch(r){case A:return s;case M:return o([s],{type:t});case D:return new Int8Array(s);case L:return new Uint8Array(s);case F:return new Uint8ClampedArray(s);case B:return new Int16Array(s);case V:return new Uint16Array(s);case z:return new Int32Array(s);case U:return new Uint32Array(s);case q:return new Float32Array(s);case $:return new Float64Array(s);default:throw new Error("Unkown type: "+r)}},stringToBuffer:W,bufferToString:X};function Y(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function G(e,t,n,r,i,o){e.executeSql(n,r,i,function(e,s){s.code===s.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(e,a){a.rows.length?o(e,s):Y(e,t,function(){e.executeSql(n,r,i,o)},o)},o):o(e,s)},o)}var K={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new s(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction(function(i){Y(i,n,function(){t._dbInfo=n,e()},function(e,t){r(t)})},r)});return n.serializer=J,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new s(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){G(n,i,"SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,s=o.length,a=0;a<s;a++){var u=o.item(a),c=u.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,u.key,a+1)))return void t(c)}t()},function(e,t){r(t)})})}).catch(r)});return a(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new s(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){G(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return a(r,t),r},setItem:function(e,t,n){return function e(t,n,r,i){var o=this;t=c(t);var u=new s(function(s,a){o.ready().then(function(){void 0===n&&(n=null);var u=n,c=o._dbInfo;c.serializer.serialize(n,function(n,l){l?a(l):c.db.transaction(function(e){G(e,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[t,n],function(){s(u)},function(e,t){a(t)})},function(n){if(n.code===n.QUOTA_ERR){if(i>0)return void s(e.apply(o,[t,u,r,i-1]));a(n)}})})}).catch(a)});return a(u,r),u}.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=c(e);var r=new s(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){G(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return a(r,t),r},clear:function(e){var t=this,n=new s(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){G(t,r,"DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return a(n,e),n},length:function(e){var t=this,n=new s(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){G(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return a(n,e),n},key:function(e,t){var n=this,r=new s(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){G(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return a(r,t),r},keys:function(e){var t=this,n=new s(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){G(t,r,"SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)},function(e,t){n(t)})})}).catch(n)});return a(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return a(r=e.name?new s(function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(function(e){return new s(function(t,n){e.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})},function(e,t){n(t)})},function(e){n(e)})})}(r))}).then(function(e){return new s(function(t,n){e.db.transaction(function(r){function i(e){return new s(function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(e,t){n(t)})})}for(var o=[],a=0,u=e.storeNames.length;a<u;a++)o.push(i(e.storeNames[a]));s.all(o).then(function(){t()}).catch(function(e){n(e)})},function(e){n(e)})})}):s.reject("Invalid arguments"),t),r}};function Z(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}var ee={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=Z(e,this._defaultConfig),!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0?(this._dbInfo=t,t.serializer=J,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,s=1,a=0;a<o;a++){var u=localStorage.key(a);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,u.substring(i),s++)))return c}}});return a(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return a(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var i=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new s(function(i,o){var s=r._dbInfo;s.serializer.serialize(t,function(t,r){if(r)o(r);else try{localStorage.setItem(s.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}})})});return a(i,n),i},removeItem:function(e,t){var n=this;e=c(e);var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return a(r,t),r},clear:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return a(n,e),n},length:function(e){var t=this.keys().then(function(e){return e.length});return a(t,e),t},key:function(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return a(r,t),r},keys:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r});return a(n,e),n},dropInstance:function(e,t){if(t=l.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return a(r=e.name?new s(function(t){e.storeName?t(Z(e,i._defaultConfig)):t(e.name+"/")}).then(function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}}):s.reject("Invalid arguments"),t),r}},te=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},ne=function(e,t){for(var n=e.length,r=0;r<n;){if(te(e[r],t))return!0;r++}return!1},re=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ie={},oe={},se={INDEXEDDB:O,WEBSQL:K,LOCALSTORAGE:ee},ae=[se.INDEXEDDB._driver,se.WEBSQL._driver,se.LOCALSTORAGE._driver],ue=["dropInstance"],ce=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ue),le={description:"",driver:ae.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function de(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function he(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(re(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var fe=new(function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),se)if(se.hasOwnProperty(n)){var r=se[n],i=r._driver;this[n]=i,ie[i]||this.defineDriver(r)}this._defaultConfig=he({},le),this._config=he({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new s(function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=ce.concat("_initStorage"),u=0,c=o.length;u<c;u++){var l=o[u];if((!ne(ue,l)||e[l])&&"function"!=typeof e[l])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=s.reject(t);return a(n,arguments[arguments.length-1]),n}},n=0,r=ue.length;n<r;n++){var i=ue[n];e[i]||(e[i]=t(i))}}();var d=function(n){ie[r]&&console.info("Redefining LocalForage driver: "+r),ie[r]=e,oe[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(d,n):d(!!e._support):d(!0)}catch(e){n(e)}});return u(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=ie[e]?s.resolve(ie[e]):s.reject(new Error("Driver not found."));return u(r,t,n),r},e.prototype.getSerializer=function(e){var t=s.resolve(J);return u(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return u(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;re(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function a(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}var c=null!==this._driverSet?this._driverSet.catch(function(){return s.resolve()}):s.resolve();return this._driverSet=c.then(function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then(function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(a).catch(n)}o();var u=new Error("No available storage method found.");return r._driverSet=s.reject(u),r._driverSet}()}}(i)})}).catch(function(){o();var e=new Error("No available storage method found.");return r._driverSet=s.reject(e),r._driverSet}),u(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!oe[e]},e.prototype._extend=function(e){he(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=ce.length;e<t;e++)de(this,ce[e])},e.prototype.createInstance=function(t){return new e(t)},e}());t.exports=fe},{3:3}]},{},[4])(4)}).call(this,n(16))},function(e,t,n){"use strict";var r=n(46);function i(e){this.message=e}i.prototype=new Error,i.prototype.name="InvalidTokenError",e.exports=function(e,t){if("string"!=typeof e)throw new i("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(".")[n]))}catch(e){throw new i("Invalid token specified: "+e.message)}},e.exports.InvalidTokenError=i},,function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(47);e.exports=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(r(t).replace(/(.)/g,function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}catch(e){return r(t)}}},function(e,t){function n(e){this.message=e}n.prototype=new Error,n.prototype.name="InvalidCharacterError",e.exports="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,o=0,s=0,a="";i=t.charAt(s++);~i&&(r=o%4?64*r+i:i,o++%4)?a+=String.fromCharCode(255&r>>(-2*o&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return a}}]]);